(window.webpackJsonp=window.webpackJsonp||[]).push([[398],{821:function(t,s,a){"use strict";a.r(s);var r=a(14),e=Object(r.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"集成访问日志"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#集成访问日志"}},[t._v("#")]),t._v(" 集成访问日志")]),t._v(" "),s("h2",{attrs:{id:"概述"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#概述"}},[t._v("#")]),t._v(" 概述")]),t._v(" "),s("p",[t._v("集成前端日志是一种将前端应用程序的日志信息发送到指定接收端的方法。通过集成前端日志，可以实现对前端应用程序的日志进行收集、存储和分析。")]),t._v(" "),s("h2",{attrs:{id:"针对人群"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#针对人群"}},[t._v("#")]),t._v(" 针对人群")]),t._v(" "),s("p",[t._v("本文档适用于前端开发人员和系统管理员，他们希望通过集成前端日志来收集和分析前端应用程序的日志信息。")]),t._v(" "),s("h2",{attrs:{id:"使用场景"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用场景"}},[t._v("#")]),t._v(" 使用场景")]),t._v(" "),s("p",[t._v("前端日志集成适用于以下场景：")]),t._v(" "),s("ul",[s("li",[t._v("监控前端应用程序的错误和异常情况。")]),t._v(" "),s("li",[t._v("收集前端应用程序的日志信息，用于分析和排查问题。")]),t._v(" "),s("li",[t._v("实时追踪前端应用程序的运行状态。")])]),t._v(" "),s("h2",{attrs:{id:"集成方式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#集成方式"}},[t._v("#")]),t._v(" 集成方式")]),t._v(" "),s("p",[t._v("以下是集成前端日志的示例方法：")]),t._v(" "),s("ol",[s("li",[t._v("配置 Nginx 日志格式")])]),t._v(" "),s("p",[t._v("在 Nginx 的配置文件中，添加以下日志格式配置，用于定义日志的格式和字段：")]),t._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[t._v("log_format json_analytics '"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"msec"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"$msec"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 请求的时间戳（单位：毫秒）")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"connection"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"$connection"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 连接的序列号")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"connection_requests"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"$connection_requests"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 当前连接的请求数")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"pid"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"$pid"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// NGINX进程ID")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"request_id"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"$request_id"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 请求的唯一标识符")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"request_length"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"$request_length"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 请求的字节数")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"remote_addr"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"$remote_addr"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 客户端的IP地址")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"remote_user"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"$remote_user"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 客户端的用户名")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"remote_port"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"$remote_port"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 客户端的端口号")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"time_local"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"$time_local"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 请求的本地时间")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"time_iso8601"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"$time_iso8601"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 请求的ISO 8601格式时间")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"request"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"$request"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 请求的行（方法和路径）")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"request_uri"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"$request_uri"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 请求的URI")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"args"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"$args"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 请求的参数")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"status"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"$status"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 响应的状态码")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"body_bytes_sent"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"$body_bytes_sent"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 发送给客户端的响应体的字节数")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"bytes_sent"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"$bytes_sent"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 发送给客户端的总字节数（包括响应头和响应体）")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"http_referer"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"$http_referer"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 请求的来源URL")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"http_user_agent"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"$http_user_agent"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 客户端的User-Agent头部")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"http_x_forwarded_for"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"$http_x_forwarded_for"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 客户端的X-Forwarded-For头部")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"http_host"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"$http_host"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 请求的主机头部")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"server_name"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"$server_name"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 服务器的名称")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"request_time"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"$request_time"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 请求的处理时间（单位：秒，精确到毫秒）")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"upstream"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"$upstream_addr"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 上游服务器的地址")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"upstream_connect_time"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"$upstream_connect_time"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 与上游服务器建立连接的时间（单位：秒，精确到毫秒）")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"upstream_header_time"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"$upstream_header_time"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 接收上游服务器响应头的时间（单位：秒，精确到毫秒）")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"upstream_response_time"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"$upstream_response_time"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 接收上游服务器完整响应的时间（单位：秒，精确到毫秒）")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"upstream_response_length"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"$upstream_response_length"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 上游服务器响应的字节数")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"upstream_cache_status"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"$upstream_cache_status"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 上游服务器缓存的状态")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"ssl_protocol"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"$ssl_protocol"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// SSL/TLS协议版本")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"ssl_cipher"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"$ssl_cipher"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// SSL/TLS加密算法")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"scheme"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"$scheme"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 请求的协议方案（http或https）")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"request_method"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"$request_method"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 请求的方法（GET、POST等）")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"server_protocol"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"$server_protocol"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 服务器使用的协议（HTTP/1.0或HTTP/1.1）")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"pipe"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"$pipe"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// 如果请求通过管道传输，则为"p"，否则为空字符串')]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"gzip_ratio"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"$gzip_ratio"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Gzip压缩比率")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"http_cf_ray"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"$http_cf_ray"')]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Cloudflare的请求ID")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("';\n\naccess_log /var/log/nginx/json_access.log json_analytics;\n\n")])])]),s("p",[t._v("请根据实际需求修改日志格式的字段和路径。")]),t._v(" "),s("ol",{attrs:{start:"2"}},[s("li",[t._v("日志采集")])]),t._v(" "),s("p",[t._v("使用 Filebeat 采集 Nginx 日志，并将日志发送到指定的接收端。配置示例如下：")]),t._v(" "),s("div",{staticClass:"language-yaml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-yaml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("filebeat.inputs")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("type")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" log\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("enabled")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("paths")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" /var/log/nginx/access.log\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("fields")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("source")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" nginx\n\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("output.http")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("enabled")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("host")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"your-webhook-url"')]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("method")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"POST"')]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("headers")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("Content-Type")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"application/json"')]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("Authorization")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Bearer your-access-token"')]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("codec.format")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("string")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('\'{"message": "%{[message]}" }\'')]),t._v("\n")])])]),s("p",[t._v("请将以下参数替换为实际的值：")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("your-webhook-url")]),t._v("：接收端的 Webhook URL。")]),t._v(" "),s("li",[s("code",[t._v("your-access-token")]),t._v("：用于认证和授权访问接收端的访问令牌。")])]),t._v(" "),s("p",[t._v("请根据实际情况修改以上参数的值。")]),t._v(" "),s("h2",{attrs:{id:"注意事项"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#注意事项"}},[t._v("#")]),t._v(" 注意事项")]),t._v(" "),s("ul",[s("li",[t._v("确保 Nginx 的配置文件正确配置，并启用了定义的日志格式。")]),t._v(" "),s("li",[t._v("确保 Filebeat 正确配置，并能够访问和读取 Nginx 的日志文件。")]),t._v(" "),s("li",[t._v("确保接收端的 Webhook URL 和访问令牌正确配置，以确保日志能够正确发送到指定的接收端。")]),t._v(" "),s("li",[t._v("根据实际需求，可以对日志格式和采集配置进行相应的调整和定制化。")]),t._v(" "),s("li",[t._v("在集成完成后，确保前端日志能够正常发送和接收，并进行相应的日志分析和处理。")])])])}),[],!1,null,null,null);s.default=e.exports}}]);