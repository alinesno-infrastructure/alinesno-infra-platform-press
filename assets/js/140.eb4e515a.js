(window.webpackJsonp=window.webpackJsonp||[]).push([[140],{503:function(a,s,t){"use strict";t.r(s);var e=t(8),l=Object(e.a)({},(function(){var a=this,s=a._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"elasticsearch-部署和安装指南"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#elasticsearch-部署和安装指南"}},[a._v("#")]),a._v(" ElasticSearch 部署和安装指南")]),a._v(" "),s("p",[a._v("本文档提供了在 CentOS 7 上部署和安装 ElasticSearch 7.10 的详细步骤和说明。")]),a._v(" "),s("h2",{attrs:{id:"环境准备"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#环境准备"}},[a._v("#")]),a._v(" 环境准备")]),a._v(" "),s("p",[a._v("确保您的 CentOS 7 服务器满足以下要求：")]),a._v(" "),s("ul",[s("li",[a._v("已经安装了 Java 8 或更高版本。")]),a._v(" "),s("li",[a._v("具有足够的内存和存储空间来支持 ElasticSearch 的运行。")]),a._v(" "),s("li",[a._v("已经设置了正确的主机名和 IP 地址。")])]),a._v(" "),s("h2",{attrs:{id:"最小配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#最小配置"}},[a._v("#")]),a._v(" 最小配置")]),a._v(" "),s("p",[a._v("以下是 ElasticSearch 集群的最小配置：")]),a._v(" "),s("h3",{attrs:{id:"硬件配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#硬件配置"}},[a._v("#")]),a._v(" 硬件配置")]),a._v(" "),s("ul",[s("li",[a._v("CPU：至少 2 个核心。")]),a._v(" "),s("li",[a._v("内存：至少 4GB RAM。")]),a._v(" "),s("li",[a._v("存储：至少 30GB 磁盘空间。")])]),a._v(" "),s("h3",{attrs:{id:"软件配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#软件配置"}},[a._v("#")]),a._v(" 软件配置")]),a._v(" "),s("ul",[s("li",[a._v("操作系统：CentOS 7。")]),a._v(" "),s("li",[a._v("Java：安装 Java 8 或更高版本。")])]),a._v(" "),s("h2",{attrs:{id:"建议配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#建议配置"}},[a._v("#")]),a._v(" 建议配置")]),a._v(" "),s("p",[a._v("以下是 ElasticSearch 集群的建议配置：")]),a._v(" "),s("h3",{attrs:{id:"硬件配置-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#硬件配置-2"}},[a._v("#")]),a._v(" 硬件配置")]),a._v(" "),s("ul",[s("li",[a._v("CPU：建议 4 个或更多核心。")]),a._v(" "),s("li",[a._v("内存：建议 8GB RAM 或更多。")]),a._v(" "),s("li",[a._v("存储：建议使用 SSD 硬盘，至少 60GB 磁盘空间。")])]),a._v(" "),s("h3",{attrs:{id:"软件配置-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#软件配置-2"}},[a._v("#")]),a._v(" 软件配置")]),a._v(" "),s("ul",[s("li",[a._v("操作系统：CentOS 7。")]),a._v(" "),s("li",[a._v("Java：建议使用最新版本的 Java 11。")])]),a._v(" "),s("h2",{attrs:{id:"jdk-配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#jdk-配置"}},[a._v("#")]),a._v(" JDK 配置")]),a._v(" "),s("p",[a._v("在安装 ElasticSearch 之前，您需要安装并配置适当的 JDK。以下是在 CentOS 7 上安装 JDK 11 的步骤：")]),a._v(" "),s("ol",[s("li",[a._v("添加 JDK 11 的存储库：")])]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" yum "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-y")]),a._v(" https://adoptopenjdk.jfrog.io/adoptopenjdk/rpm/centos/7/x86_64/adoptopenjdk.repo\n")])])]),s("ol",{attrs:{start:"2"}},[s("li",[a._v("安装 JDK 11：")])]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" yum "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-y")]),a._v(" adoptopenjdk-11-hotspot\n")])])]),s("ol",{attrs:{start:"3"}},[s("li",[a._v("验证 JDK 安装：")])]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("java")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-version")]),a._v("\n")])])]),s("p",[a._v("确保输出显示 JDK 11 的版本信息。")]),a._v(" "),s("h2",{attrs:{id:"服务器配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#服务器配置"}},[a._v("#")]),a._v(" 服务器配置")]),a._v(" "),s("p",[a._v("在进行 ElasticSearch 部署之前，您需要配置服务器以满足 ElasticSearch 的要求。以下是一些建议的服务器配置：")]),a._v(" "),s("ul",[s("li",[s("p",[a._v("禁用 THP（Transparent Huge Pages）：ElasticSearch 不建议启用 THP。您可以通过在 "),s("code",[a._v("/etc/rc.local")]),a._v(" 文件中添加以下命令来禁用 THP：")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" never "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" /sys/kernel/mm/transparent_hugepage/enabled\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" never "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" /sys/kernel/mm/transparent_hugepage/defrag\n")])])])]),a._v(" "),s("li",[s("p",[a._v("调整文件描述符限制：ElasticSearch 需要较高的文件描述符限制。您可以通过编辑 "),s("code",[a._v("/etc/security/limits.conf")]),a._v(" 文件，并添加以下行来调整文件描述符限制：")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("alinesno     soft    nofile    65536\nalinesno     hard    nofile    65536\n")])])]),s("p",[a._v("这里的 "),s("code",[a._v("alinesno")]),a._v(" 是您的用户名。")])]),a._v(" "),s("li",[s("p",[a._v("调整虚拟内存限制：ElasticSearch 需要增加虚拟内存映射区域的最大数量。您可以通过编辑 "),s("code",[a._v("/etc/sysctl.conf")]),a._v(" 文件，并添加以下行来调整虚拟内存限制：")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("vm.max_map_count = 262144\n")])])]),s("p",[a._v("然后通过运行以下命令使配置生效：")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("sysctl")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v("\n")])])])])]),a._v(" "),s("h2",{attrs:{id:"线程限制说明"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#线程限制说明"}},[a._v("#")]),a._v(" 线程限制说明")]),a._v(" "),s("p",[a._v("为了优化 ElasticSearch 的性能和稳定性，您可以设置以下线程限制：")]),a._v(" "),s("ul",[s("li",[s("p",[s("code",[a._v("bootstrap.memory_lock")]),a._v("：将 ElasticSearch 进程锁定在内存中，避免交换和页面错误。您可以在 "),s("code",[a._v("config/elasticsearch.yml")]),a._v(" 文件中添加以下配置：")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[a._v("bootstrap.memory_lock: "),s("span",{pre:!0,attrs:{class:"token boolean"}},[a._v("true")]),a._v("\n")])])])]),a._v(" "),s("li",[s("p",[s("code",[a._v("ulimit")]),a._v("：调整操作系统的打开文件和进程限制。您可以编辑 "),s("code",[a._v("/etc/security/limits.conf")]),a._v(" 文件，并添加以下行：")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("alinesno     soft    nofile    65536\nalinesno     hard    nofile    65536\nalinesno     soft    nproc     4096\nalinesno     hard    nproc     4096\n")])])]),s("p",[a._v("这里的 "),s("code",[a._v("alinesno")]),a._v(" 是您的用户名。")])])]),a._v(" "),s("h2",{attrs:{id:"步骤"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#步骤"}},[a._v("#")]),a._v(" 步骤")]),a._v(" "),s("h3",{attrs:{id:"_1-下载-elasticsearch"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-下载-elasticsearch"}},[a._v("#")]),a._v(" 1. 下载 ElasticSearch")]),a._v(" "),s("p",[a._v("首先，您需要下载 ElasticSearch 的安装包。在终端中执行以下命令：")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("wget")]),a._v(" https://artifacts.elastic.co/downloads/elasticsearch/elasticsearch-7.10.0-linux-x86_64.tar.gz\n")])])]),s("h3",{attrs:{id:"_2-解压安装包"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-解压安装包"}},[a._v("#")]),a._v(" 2. 解压安装包")]),a._v(" "),s("p",[a._v("解压下载的安装包：")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("tar")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-xzf")]),a._v(" elasticsearch-7.10.0-linux-x86_64.tar.gz\n")])])]),s("h3",{attrs:{id:"_3-配置-elasticsearch"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-配置-elasticsearch"}},[a._v("#")]),a._v(" 3. 配置 ElasticSearch")]),a._v(" "),s("p",[a._v("进入 ElasticSearch 目录：")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" elasticsearch-7.10.0\n")])])]),s("p",[a._v("编辑配置文件 "),s("code",[a._v("config/elasticsearch.yml")]),a._v("：")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("vi")]),a._v(" config/elasticsearch.yml\n")])])]),s("p",[a._v("根据您的需求进行以下配置：")]),a._v(" "),s("ul",[s("li",[s("code",[a._v("cluster.name")]),a._v("：指定集群的名称。")]),a._v(" "),s("li",[s("code",[a._v("node.name")]),a._v("：指定节点的名称。")]),a._v(" "),s("li",[s("code",[a._v("path.data")]),a._v("：指定 ElasticSearch 数据文件的路径。")]),a._v(" "),s("li",[s("code",[a._v("path.logs")]),a._v("：指定日志文件的路径。")])]),a._v(" "),s("p",[a._v("确保在所有节点上具有相同的集群名称，并为每个节点设置唯一的节点名称。")]),a._v(" "),s("p",[a._v("保存并关闭文件。")]),a._v(" "),s("h3",{attrs:{id:"_4-配置主节点和数据节点"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-配置主节点和数据节点"}},[a._v("#")]),a._v(" 4. 配置主节点和数据节点")]),a._v(" "),s("p",[a._v("在集群中，您可以选择将某些节点配置为主节点（master node）和数据节点（data node）。主节点负责集群管理和协调操作，而数据节点负责存储和处理数据。")]),a._v(" "),s("p",[a._v("编辑配置文件 "),s("code",[a._v("config/elasticsearch.yml")]),a._v("：")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("vi")]),a._v(" config/elasticsearch.yml\n")])])]),s("p",[a._v("对于主节点，添加以下配置：")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[a._v("node.master: "),s("span",{pre:!0,attrs:{class:"token boolean"}},[a._v("true")]),a._v("\n")])])]),s("p",[a._v("对于数据节点，添加以下配置：")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[a._v("node.data: "),s("span",{pre:!0,attrs:{class:"token boolean"}},[a._v("true")]),a._v("\n")])])]),s("p",[a._v("确保在所有节点上正确配置主节点和数据节点。")]),a._v(" "),s("p",[a._v("保存并关闭文件。")]),a._v(" "),s("h3",{attrs:{id:"_5-配置发现和集群节点"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-配置发现和集群节点"}},[a._v("#")]),a._v(" 5. 配置发现和集群节点")]),a._v(" "),s("p",[a._v("在集群中，节点需要能够发现其他节点并加入集群。为此，您需要配置发现机制和集群节点。")]),a._v(" "),s("p",[a._v("编辑配置文件 "),s("code",[a._v("config/elasticsearch.yml")]),a._v("：")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("vi")]),a._v(" config/elasticsearch.yml\n")])])]),s("p",[a._v("添加以下配置：")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[a._v("discovery.seed_hosts: "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"host1"')]),a._v(", "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"host2"')]),a._v(", "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"host3"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\ncluster.initial_master_nodes: "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"node1"')]),a._v(", "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"node2"')]),a._v(", "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"node3"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n")])])]),s("p",[a._v("将 "),s("code",[a._v('"host1", "host2", "host3"')]),a._v(" 替换为实际的主机名或 IP 地址，将 "),s("code",[a._v('"node1", "node2", "node3"')]),a._v(" 替换为实际的节点名称。")]),a._v(" "),s("p",[a._v("保存并关闭文件。")]),a._v(" "),s("h3",{attrs:{id:"_6-启动-elasticsearch"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_6-启动-elasticsearch"}},[a._v("#")]),a._v(" 6. 启动 ElasticSearch")]),a._v(" "),s("p",[a._v("通过以下命令在每个节点上启动 ElasticSearch：")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[a._v("./bin/elasticsearch\n")])])]),s("h3",{attrs:{id:"_7-验证集群状态"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_7-验证集群状态"}},[a._v("#")]),a._v(" 7. 验证集群状态")]),a._v(" "),s("p",[a._v("使用 curl 命令验证 ElasticSearch 集群状态：")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-X")]),a._v(" GET http://localhost:9200/_cluster/health?pretty\n")])])]),s("p",[a._v("您应该会看到类似以下的输出：")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v('{\n  "cluster_name" : "my_cluster",\n  "status" : "green",\n  "timed_out" : false,\n  "number_of_nodes" : 3,\n  "number_of_data_nodes" : 3,\n  "active_primary_shards" : 0,\n  "active_shards" : 0,\n  "relocating_shards" : 0,\n  "initializing_shards" : 0,\n  "unassigned_shards" : 0,\n  "delayed_unassigned_shards" : 0,\n  "number_of_pending_tasks" : 0,\n  "number_of_in_flight_fetch" : 0,\n  "task_max_waiting_in_queue_millis" : 0,\n  "active_shards_percent_as_number" : 100.0\n}\n')])])]),s("p",[a._v('如果您能看到类似的输出，并且状态为 "green"，则表示 ElasticSearch 集群安装和启动成功。')]),a._v(" "),s("h2",{attrs:{id:"配置建议"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#配置建议"}},[a._v("#")]),a._v(" 配置建议")]),a._v(" "),s("p",[a._v("以下是一些建议的配置选项，可以根据您的需求进行调整：")]),a._v(" "),s("ul",[s("li",[s("code",[a._v("cluster.name")]),a._v("：设置一个唯一的集群名称。")]),a._v(" "),s("li",[s("code",[a._v("node.name")]),a._v("：为每个节点设置一个有意义的名称。")]),a._v(" "),s("li",[s("code",[a._v("path.data")]),a._v("：将数据文件存储在独立的磁盘分区上。")]),a._v(" "),s("li",[s("code",[a._v("path.logs")]),a._v("：将日志文件存储在独立的磁盘分区上。")]),a._v(" "),s("li",[s("code",[a._v("network.host")]),a._v("：设置 ElasticSearch 监听的网络接口。")]),a._v(" "),s("li",[s("code",[a._v("discovery.seed_hosts")]),a._v("：指定用于发现其他节点的主机列表。")]),a._v(" "),s("li",[s("code",[a._v("cluster.initial_master_nodes")]),a._v("：指定初始主节点的名称。")])]),a._v(" "),s("h2",{attrs:{id:"限制线程说明"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#限制线程说明"}},[a._v("#")]),a._v(" 限制线程说明")]),a._v(" "),s("p",[a._v("为了优化 ElasticSearch 的性能和稳定性，您可以根据服务器的硬件和资源情况设置以下线程限制：")]),a._v(" "),s("ul",[s("li",[s("code",[a._v("bootstrap.memory_lock")]),a._v("：将 ElasticSearch 进程锁定在内存中，避免交换和页面错误。")]),a._v(" "),s("li",[s("code",[a._v("max_map_count")]),a._v("：增加虚拟内存映射区域的最大数量。")]),a._v(" "),s("li",[s("code",[a._v("ulimit")]),a._v("：调整操作系统的打开文件和进程限制。")])]),a._v(" "),s("p",[a._v("您可以在启动 ElasticSearch 之前，根据您的需求和服务器的配置，在启动脚本中设置这些限制。")]),a._v(" "),s("h2",{attrs:{id:"将-elasticsearch-添加到系统服务"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#将-elasticsearch-添加到系统服务"}},[a._v("#")]),a._v(" 将 ElasticSearch 添加到系统服务")]),a._v(" "),s("p",[a._v("要将 ElasticSearch 添加到系统服务中，您可以按照以下步骤进行操作：")]),a._v(" "),s("ol",[s("li",[a._v("创建 "),s("code",[a._v("elasticsearch.service")]),a._v(" 文件：")])]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("vi")]),a._v(" /etc/systemd/system/elasticsearch.service\n")])])]),s("ol",{attrs:{start:"2"}},[s("li",[a._v("将以下内容添加到文件中：")])]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("[Unit]\nDescription=Elasticsearch\nDocumentation=https://www.elastic.co\nWants=network-online.target\nAfter=network-online.target\n\n[Service]\nType=simple\nUser=alinesno\nGroup=alinesno\nLimitMEMLOCK=infinity\nLimitNOFILE=65536\nLimitNPROC=4096\nEnvironment=ES_HOME=/home/alinesno/elasticsearch-7.10.0\nEnvironment=PID_DIR=/var/run/elasticsearch\nEnvironmentFile=-/etc/sysconfig/elasticsearch\nExecStart=/home/alinesno/elasticsearch-7.10.0/bin/elasticsearch\nRestart=always\nWorkingDirectory=/home/alinesno/elasticsearch-7.10.0\n\n[Install]\nWantedBy=multi-user.target\n")])])]),s("p",[a._v("确保将 "),s("code",[a._v("User")]),a._v(" 和 "),s("code",[a._v("Group")]),a._v(" 替换为您的用户名。")]),a._v(" "),s("ol",{attrs:{start:"3"}},[s("li",[s("p",[a._v("保存并关闭文件。")])]),a._v(" "),s("li",[s("p",[a._v("重新加载 systemd 配置：")])])]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" systemctl daemon-reload\n")])])]),s("ol",{attrs:{start:"5"}},[s("li",[a._v("启动 ElasticSearch 服务：")])]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" systemctl start elasticsearch\n")])])]),s("ol",{attrs:{start:"6"}},[s("li",[a._v("验证 ElasticSearch 服务状态：")])]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" systemctl status elasticsearch\n")])])]),s("p",[a._v('如果状态显示为 "active"，则表示 ElasticSearch 服务已成功启动。')]),a._v(" "),s("ol",{attrs:{start:"7"}},[s("li",[a._v("设置 ElasticSearch 服务开机自启动：")])]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" systemctl "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("enable")]),a._v(" elasticsearch\n")])])]),s("p",[a._v("现在，您可以使用以下命令来控制 ElasticSearch 服务：")]),a._v(" "),s("ul",[s("li",[a._v("启动服务："),s("code",[a._v("sudo systemctl start elasticsearch")])]),a._v(" "),s("li",[a._v("停止服务："),s("code",[a._v("sudo systemctl stop elasticsearch")])]),a._v(" "),s("li",[a._v("重启服务："),s("code",[a._v("sudo systemctl restart elasticsearch")])]),a._v(" "),s("li",[a._v("查看服务状态："),s("code",[a._v("sudo systemctl status elasticsearch")])])]),a._v(" "),s("p",[a._v("请注意，这些命令需要使用 "),s("code",[a._v("sudo")]),a._v(" 运行，以获取管理员权限。")]),a._v(" "),s("h2",{attrs:{id:"总结"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#总结"}},[a._v("#")]),a._v(" 总结")]),a._v(" "),s("p",[a._v("恭喜！您已经成功部署和安装了 ElasticSearch 7.10 集群。现在您可以开始使用 ElasticSearch 来进行强大的搜索和分析。如有任何问题，请参考 ElasticSearch 的官方文档或社区支持。")]),a._v(" "),s("p",[a._v("祝您使用愉快！")])])}),[],!1,null,null,null);s.default=l.exports}}]);