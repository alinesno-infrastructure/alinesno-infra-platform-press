(window.webpackJsonp=window.webpackJsonp||[]).push([[138],{565:function(a,t,v){"use strict";v.r(t);var _=v(14),s=Object(_.a)({},(function(){var a=this,t=a._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"本地开发环境"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#本地开发环境"}},[a._v("#")]),a._v(" 本地开发环境")]),a._v(" "),t("h2",{attrs:{id:"概述"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#概述"}},[a._v("#")]),a._v(" 概述")]),a._v(" "),t("p",[a._v("此章节为本地环境的搭建方式。")]),a._v(" "),t("h2",{attrs:{id:"开发工具"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#开发工具"}},[a._v("#")]),a._v(" 开发工具")]),a._v(" "),t("p",[a._v("开发工具尽量按最简化的方式进行，以下为开发环境")]),a._v(" "),t("ul",[t("li",[a._v("[必须] mysql8")]),a._v(" "),t("li",[a._v("[必须] redis5")]),a._v(" "),t("li",[a._v("[必须] jdk17+")]),a._v(" "),t("li",[a._v("[BaseSearch] postgresql(开启pgvector)")]),a._v(" "),t("li",[a._v("[BaseSearch] elasticsearch 7.9:")]),a._v(" "),t("li",[a._v("[BaseStorage] minio/qiniu: 当前使用七牛")])]),a._v(" "),t("p",[a._v("DevOps套件:")]),a._v(" "),t("ul",[t("li",[a._v("Nexus: 阿里云Codeup")]),a._v(" "),t("li",[a._v("CICD: 阿里云Codeup流水线")]),a._v(" "),t("li",[a._v("镜像仓库: 阿里云仓库镜像")]),a._v(" "),t("li",[a._v("K8S环境: 本地服务器自建")])]),a._v(" "),t("blockquote",[t("p",[a._v("PostgreSQL目前使用阿里云postgresql个人版")])]),a._v(" "),t("p",[a._v("工具套件(windows): 链接: https://pan.baidu.com/s/1P0W8waO3HGXIJXIt853Usw?pwd=46m6 提取码: 46m6")]),a._v(" "),t("h2",{attrs:{id:"工程说明"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#工程说明"}},[a._v("#")]),a._v(" 工程说明")]),a._v(" "),t("p",[a._v("工程主要分为以下工程:")]),a._v(" "),t("blockquote",[t("p",[a._v("工程名统一以alinesno-infra为开头")])]),a._v(" "),t("ul",[t("li",[a._v("公共工程(common)")]),a._v(" "),t("li",[a._v("基础服务(base)")]),a._v(" "),t("li",[a._v("数据服务(data)")]),a._v(" "),t("li",[a._v("智能服务(smart)")]),a._v(" "),t("li",[a._v("业务服务(bus)")]),a._v(" "),t("li",[a._v("运营服务(plat)")])]),a._v(" "),t("blockquote",[t("p",[a._v("这里不是完全的设计是以类似于宏服务的设计，而不是仅微服务(包含)设计")])]),a._v(" "),t("h2",{attrs:{id:"工程启动"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#工程启动"}},[a._v("#")]),a._v(" 工程启动")]),a._v(" "),t("p",[a._v("这里每个工程默认都依赖base-authority服务接口，这个是每个工程最小工程依赖，每个是单独的服务能力，下面演示基础服务能力的启动:")]),a._v(" "),t("ul",[t("li",[a._v("权限服务:base-authority")]),a._v(" "),t("li",[a._v("存储服务:base-storage")]),a._v(" "),t("li",[a._v("网关服务:base-gateway")]),a._v(" "),t("li",[a._v("平台服务:base-platform/控制台服务: plat-console")])]),a._v(" "),t("h3",{attrs:{id:"权限服务"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#权限服务"}},[a._v("#")]),a._v(" 权限服务")]),a._v(" "),t("p",[a._v("这里以base-authority服务为例子，后面的工程都最小依赖是base-authority服务。默认每个服务都有权限和登陆")]),a._v(" "),t("ol",[t("li",[t("p",[a._v("本地Idea导入公共工程，然后install本地(或者deploy到私服库)\n地址: https://gitee.com/alinesno-infrastructure/alinesno-infra-common\n如果缺少actable"),t("a",{attrs:{href:"https://gitee.com/alinesno-infrastructure/alinesno-infra-common/issues/IBEK4W",target:"_blank",rel:"noopener noreferrer"}},[a._v("查看"),t("OutboundLink")],1)])]),a._v(" "),t("li",[t("p",[a._v("本地Idea导入base-authority\n地址: https://gitee.com/alinesno-infrastructure/alinesno-infra-base-authority")]),a._v(" "),t("p",[a._v("先启动auth认证服务:  alinesno-infra-base-identity-auth-application\n访问以下地址:")]),a._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[a._v("http://localhost:27001\n")])])]),t("p",[a._v("应该可以看到登陆界面，如果没有看到，重新install一下整个工程")]),a._v(" "),t("p",[a._v("启动权限服务后台:  alinesno-infra-base-authority-boot")]),a._v(" "),t("p",[a._v("启动权限服务前端：alinesno-infra-base-authority-ui")]),a._v(" "),t("p",[a._v("访问alinesno-infra-base-authority-ui 登陆即可。")])])]),a._v(" "),t("h3",{attrs:{id:"存储服务"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#存储服务"}},[a._v("#")]),a._v(" 存储服务")]),a._v(" "),t("blockquote",[t("p",[a._v("存储服务是单独的管理平台")])]),a._v(" "),t("p",[a._v("一般开发的情况，base-authority服务和auth服务会先发布到开发环境，其它工程不需要关注。")]),a._v(" "),t("ol",[t("li",[a._v("存储服务启动boot工程即可。")])]),a._v(" "),t("h3",{attrs:{id:"网关服务"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#网关服务"}},[a._v("#")]),a._v(" 网关服务")]),a._v(" "),t("blockquote",[t("p",[a._v("网关服务是单独的管理平台")])]),a._v(" "),t("p",[a._v("网关服务包含两部分，一个是路由转发服务，另一个是管理服务，工程名称如下:")]),a._v(" "),t("ol",[t("li",[a._v("启动路由转发服务")]),a._v(" "),t("li",[a._v("启动管理界面服务")])]),a._v(" "),t("h3",{attrs:{id:"平台服务"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#平台服务"}},[a._v("#")]),a._v(" 平台服务")]),a._v(" "),t("ul",[t("li",[a._v("文档管理服务: platform-press")]),a._v(" "),t("li",[a._v("平台服务:base-platform")]),a._v(" "),t("li",[a._v("控制台服务: plat-console")])]),a._v(" "),t("p",[a._v("平台服务与控制台服务是配套一起的，平台服务做为控制台的后台接口管理，控制台服务统一的SaaS入口，类似于阿里云控制台。\n所以为了更方便维护(还有层级关系不同)，分成两个(除文档)工程维护。")]),a._v(" "),t("ol",[t("li",[a._v("启动平台服务boot工程")]),a._v(" "),t("li",[a._v("启动平台服务ui工程")])]),a._v(" "),t("p",[a._v("控制台工程也类似")]),a._v(" "),t("ol",[t("li",[a._v("启动控制台服务boot工程")]),a._v(" "),t("li",[a._v("启动控制台服务ui工程")])]),a._v(" "),t("p",[a._v("文档管理服务:")]),a._v(" "),t("ol",[t("li",[a._v("使用的是vuepress框架搭建")])]),a._v(" "),t("h3",{attrs:{id:"其它工程"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#其它工程"}},[a._v("#")]),a._v(" 其它工程")]),a._v(" "),t("p",[a._v("在权限/基础服务(用到的)/网关/平台服务在部署环境起来之后，其它服务只需要通过"),t("code",[a._v("adapter")]),a._v("适配服务连接到指定的模块即可，具体看工程。")]),a._v(" "),t("p",[a._v("相关启动配置文档可查阅以下部署目录:")]),a._v(" "),t("ul",[t("li",[a._v(".github/workflows目录: github action发布配置，包括镜像打包、参数配置")]),a._v(" "),t("li",[a._v("deploy目录: 发布脚本，包括k8s/docker-compose等")])]),a._v(" "),t("h2",{attrs:{id:"其它"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#其它"}},[a._v("#")]),a._v(" 其它")]),a._v(" "),t("ul",[t("li",[a._v("无")])])])}),[],!1,null,null,null);t.default=s.exports}}]);