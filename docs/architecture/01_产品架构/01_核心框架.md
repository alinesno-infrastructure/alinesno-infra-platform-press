# 核心框架

## 概述

核心框架集成公共和通用的公共包能力，达到核心框架包可拆分可依赖，可集成的目的，通过集成核心框架，形成基础的核心能力。

## 功能架构

这里核心、数据、前端、接口、安全、权限等模块的划分，同时也包含多个服务之前引用的关系

| 序号 | 类型   | 模块             | 名称                                  | 说明                                                  | 备注 |
|:----:|--------|------------------|---------------------------------------|-------------------------------------------------------|------|
| 1    | pom    | POM父类工程      | alinesno-infra-platform-parent        |                                                       |      |
|      |        |                  |                                       |                                                       |      |
| 1    | 核心包 | 配置中心         | alinesno-infra-common-config          | 确保只有经过身份验证和授权的用户才能访问敏感接口API。 |      |
| 2    |        | 核心包           | alinesno-infra-common-core            |                                                       |      |
| 3    |        | 微服务调用       | alinesno-infra-common-feign           |                                                       |      |
| 4    |        | 门面包           | alinesno-infra-common-facade          |                                                       |      |
|      |        |                  |                                       |                                                       |      |
| 1    | 组件包 | Kafka调用组件    | alinesno-infra-sdk-kafka              |                                                       |      |
| 2    |        | Redis调用组件    | alinesno-infra-sdk-redis              |                                                       |      |
| 3    |        | Mongodb调用组件  | alinesno-infra-sdk-mongodb            |                                                       |      |
| 4    |        | 分布式锁调用组件 | alinesno-infra-sdk-distlock           |                                                       |      |
|      |        |                  |                                       |                                                       |      |
| 1    | 前端包 | 基础前端包       | alinesno-infra-common-web             |                                                       |      |
| 2    |        | 核心组件前端包   | alinesno-infra-common-web-base        |                                                       |      |
| 3    |        | 单点登陆前端包   | alinesno-infra-common-web-sso         |                                                       |      |
| 4    |        | 普通登陆前端包   | alinesno-infra-common-web-login       |                                                       |      |
|      |        |                  |                                       |                                                       |      |
| 1    | 安全包 | 基础安全包       | alinesno-infra-common-security        |                                                       |      |
| 2    |        | 接口安全包       | alinesno-infra-common-security-api    |                                                       |      |
| 3    |        | 数据安全包       | alinesno-infra-common-security-mapper |                                                       |      |
| 4    |        | 日志安全包       | alinesno-infra-common-security-log    |                                                       |      |
|      |        |                  |                                       |                                                       |      |
| 1    | 前端UI | 前端UI核心包     | alinesno-infra-ui                     |                                                       |      |
|      |        |                  |                                       |                                                       |      |

### 父类集成

父类通过可配置的变量进行集成管理，即通过传递参数变量来进行各个环境之前的转换区分

| 序号 | 分类     | 功能                         | 说明                                                                        | 备注 |
|:----:|----------|------------------------------|-----------------------------------------------------------------------------|------|
| 1    | 集成能力 | Nexus仓库集成                | 确保只有经过身份验证和授权的用户才能访问敏感接口API。使用合适的身份验证机制 |      |
| 2    |          | 集成revision统一版本号       |                                                                             |      |
| 3    |          | 集成镜像仓库一键打成容器镜像 |                                                                             |      |
| 4    |          | 集成非root账号运行           |                                                                             |      |

### 配置中心

### core基础功能

| 序号 | 模块     | 功能                          | 说明                                                                        | 备注 |
|:----:|----------|-------------------------------|-----------------------------------------------------------------------------|------|
| 1    | 能用能力 | 分布式框架                    | 确保只有经过身份验证和授权的用户才能访问敏感接口API。使用合适的身份验证机制 |      |
| 2    |          | 公共依赖包(配置/公共代码)     |                                                                             |      |
| 3    |          | 服务容器化                    |                                                                             |      |
| 4    |          | 代码生成器                    |                                                                             |      |
| 5    |          | MyBatis操作集成               |                                                                             |      |
| 6    |          | 按钮权限                      |                                                                             |      |
| 7    |          | 单点登陆                      |                                                                             |      |
| 8    |          | 租户集成                      |                                                                             |      |
| 9    |          | 多服务集成                    |                                                                             |      |
| 10   |          | 前端集成                      |                                                                             |      |
| 11   |          | 多平台发布集成                |                                                                             |      |
| 12   |          | 本地调试                      |                                                                             |      |
| 13   |          | 异常处理                      |                                                                             |      |
| 14   |          | 日志处理                      |                                                                             |      |
| 15   |          | 页面搜索                      |                                                                             |      |
| 16   |          | Redis缓存使用                 |                                                                             |      |
| 17   |          | 分布式Redis缓存使用           |                                                                             |      |
| 18   |          | 系统日志                      |                                                                             |      |
| 19   |          | 消息使用                      |                                                                             |      |
| 20   |          | 日志埋点                      |                                                                             |      |
| 21   |          | SwaggerUI文档                 |                                                                             |      |
| 22   |          | 多数据库源                    |                                                                             |      |
| 23   |          | 配置加密                      |                                                                             |      |
| 24   |          | 表单提交校验                  |                                                                             |      |
| 25   |          | Excel导入/导出                |                                                                             |      |
| 26   |          | 文件上传                      |                                                                             |      |
| 27   |          | XSS攻击防护                   |                                                                             |      |
| 28   |          | 多数据源分库分表（读写分离）  |                                                                             |      |
| 29   |          | 多数据源动态加载卸载          |                                                                             |      |
| 30   |          | 多数据源事务（ jta atomikos） |                                                                             |      |
| 31   |          | CDN配置                       |                                                                             |      |
| 32   |          | 多种环境部署                  |                                                                             |      |
| 33   |          | 分布式ID                      |                                                                             |      |
|      |          |                               |                                                                             |      |
| 34   | 基类能力 | 通用API                       |                                                                             |      |
| 35   |          | 通用CURD                      |                                                                             |      |
| 36   |          | 通用Service                   |                                                                             |      |
| 37   |          | 通用Mapper                    |                                                                             |      |
| 38   |          | Junit基础类                   |                                                                             |      |
| 39   |          | ORM基础类                     |                                                                             |      |
| 40   |          | Entity基础类                  |                                                                             |      |
| 41   |          | PO基础类                      |                                                                             |      |
| 42   |          | VO基础类                      |                                                                             |      |
| 43   |          | Exception基础类               |                                                                             |      |
| 44   |          | Service基础类                 |                                                                             |      |
| 45   |          | Mapper基础类                  |                                                                             |      |
| 46   |          | 分页基础类                    |                                                                             |      |
| 47   |          | 日志基础类                    |                                                                             |      |
| 48   |          | 基础通用常量                  |                                                                             |      |
| 49   |          | 获取Context上下文             |                                                                             |      |
|      |          |                               |                                                                             |      |

### web集成

> 包含公共组件集成

| 序号 | 类型     | 功能               | 说明                                                                        | 备注 |
|:----:|----------|--------------------|-----------------------------------------------------------------------------|------|
| 1    | 通用集成 | 普通JWT前后端登陆  | 确保只有经过身份验证和授权的用户才能访问敏感接口API。使用合适的身份验证机制 |      |
| 2    |          | 单点登陆           |                                                                             |      |
| 3    |          | 菜单权限集成       |                                                                             |      |
| 4    |          | 权限注解           |                                                                             |      |
| 5    |          | 数据权限           |                                                                             |      |
| 6    |          | 参数和代码集成     |                                                                             |      |
| 7    |          | CORS集成           |                                                                             |      |
| 8    |          | 黑白名单路径请求   |                                                                             |      |
| 9    |          | 安全验证码集成     |                                                                             |      |
| 10   |          | 前端异常           |                                                                             |      |
| 11   |          | 公共前端返回对象   |                                                                             |      |
| 12   |          | 数据请求分页       |                                                                             |      |
| 13   |          | 代码过滤转换       |                                                                             |      |
| 14   |          | 会话管理           |                                                                             |      |
| 15   |          | 公共API            |                                                                             |      |
|      |          |                    |                                                                             |      |
| 1    | 模块集成 | 代码转换插件机制   |                                                                             |      |
| 2    |          | 获取当前用户注解制 |                                                                             |      |
| 3    |          | 存储接口集成       |                                                                             |      |
| 4    |          | 非存储接口集成     |                                                                             |      |
| 5    |          | 通知组件集成       |                                                                             |      |
| 6    |          | 分布式ID集成       |                                                                             |      |
|      |          |                    |                                                                             |      |

### 安全过滤

| 序号 | 类型     | 功能                                     | 说明                                                                            | 备注 |
|:----:|----------|------------------------------------------|---------------------------------------------------------------------------------|------|
| 1    | 接口安全 | 接口API数据加密和解密                    |                                                                                 |      |
| 2    |          | 接口API的限流配置                        |                                                                                 |      |
| 3    |          | 接口API的文件上传安全限制                |                                                                                 |      |
| 4    |          | 接口API的防重复提交                      |                                                                                 |      |
| 5    |          | 接口API的防SQL注入/防XSS攻击             |                                                                                 |      |
| 6    |          | 接口API的全加密交互                      |                                                                                 |      |
| 7    |          | 接口API防越权配置                        |                                                                                 |      |
| 8    |          | 身份验证和授权                           | 确保只有经过身份验证和授权的用户才能访问敏感接口API。使用合适的身份验证机制     |      |
| 9    |          | 强化密码策略                             | 对于涉及用户密码的接口API，实施强密码策略，包括密码复杂性要求                   |      |
| 10   |          | 输入验证和过滤                           | 对于接收用户输入的接口API，确保进行输入验证和过滤，以防止恶意输入和攻击         |      |
| 11   |          | 安全漏洞扫描                             | 定期进行安全漏洞扫描和代码审查，以发现和修复潜在的安全漏洞和弱点。              |      |
| 12   |          | 异常处理和错误信息                       | 在接口API中，避免向用户返回具体的错误信息，以防止信息泄露和攻击者利用这些信息   |      |
|      |          |                                          |                                                                                 |
| 1    | 数据安全 | 数据存储安全，包括数据库字段和数据显示   |                                                                                 |      |
| 2    |          | 数据审计（对账）                         |                                                                                 |      |
| 3    |          | 数据敏感词过滤                           |                                                                                 |      |
| 4    |          | 数据范围（数据权限）                     |                                                                                 |      |
| 5    |          | 表结构自动维护                           |                                                                                 |      |
| 6    |          | 字段数据绑定（字典回写）                 |                                                                                 |      |
| 7    |          | 虚拟属性绑定                             |                                                                                 |      |
| 8    |          | 字段加密解密                             |                                                                                 |      |
| 9    |          | 字段脱敏                                 |                                                                                 |      |
| 10   |          | 字段加密解密                             |                                                                                 |      |
| 11   |          | 字段脱敏                                 |                                                                                 |      |
|      |          |                                          |                                                                                 |
| 1    | 其它     | 日志输出打印安全，主要包括加密和数据配置 |                                                                                 |      |
| 2    |          | 日志和监控                               | 记录和监控接口API的访问日志，包括请求和响应数据，以便追踪和分析潜在的安全问题。 |      |
| 3    |          | 双因子认证安全，主要集成TOPT安全         |                                                                                 |      |
|      |          |                                          |                                                                                 |      |

### 前端ui核心包

> 此为登陆前端框架默认集成功能(同时配置后台实现)

| 序号 | 类型       | 功能                 | 说明                                                                        | 备注 |
|:----:|------------|----------------------|-----------------------------------------------------------------------------|------|
| 1    | 桌面端组件 | 界面布局             | 确保只有经过身份验证和授权的用户才能访问敏感接口API。使用合适的身份验证机制 |      |
| 2    |            | 文件上传             |                                                                             |      |
| 3    |            | 菜单列表             |                                                                             |      |
| 4    |            | 切换缓存             |                                                                             |      |
| 5    |            | 自定义主题           |                                                                             |      |
| 6    |            | 临时锁屏             |                                                                             |      |
| 7    |            | 图片查看             |                                                                             |      |
| 8    |            | 分页列表             |                                                                             |      |
| 9    |            | 服务支持列表         |                                                                             |      |
| 10   |            | 平台功能介绍         |                                                                             |      |
|      |            |                      |                                                                             |      |
| 1    | 桌面端功能 | 账号密码登陆         |                                                                             |      |
| 2    |            | 验证码开关           |                                                                             |      |
| 3    |            | 通知公告             |                                                                             |      |
| 4    |            | 平台教程列表         |                                                                             |      |
| 5    |            | 登陆次数限制         |                                                                             |      |
| 6    |            | 登陆次数限制时间     |                                                                             |      |
| 7    |            | 登陆IP限制           |                                                                             |      |
| 8    |            | 登陆IP限制时间       |                                                                             |      |
| 9    |            | 自定义登陆域名       |                                                                             |      |
| 10   |            | 手机验证码登陆       |                                                                             |      |
| 11   |            | 微信绑定登陆         |                                                                             |      |
| 12   |            | 自定义logo           |                                                                             |      |
| 13   |            | 自定义banner         |                                                                             |      |
| 14   |            | 自定义企业信息       |                                                                             |      |
| 15   |            | 自定义企业说明       |                                                                             |      |
| 16   |            | 自定义版权信息       |                                                                             |      |
| 17   |            | 自定义团队信息       |                                                                             |      |
| 18   |            | 自定义登陆标题       |                                                                             |      |
| 19   |            | 获取系统配置         |                                                                             |      |
| 20   |            | 获取参数字典         |                                                                             |      |
| 21   |            | 获取当前用户         |                                                                             |      |
| 22   |            | 异常处理             |                                                                             |      |
| 23   |            | 内容复制             |                                                                             |      |
| 24   |            | 使用图标             |                                                                             |      |
| 25   |            | 权限使用             |                                                                             |      |
| 26   |            | 多级目录             |                                                                             |      |
| 27   |            | Request工具类        |                                                                             |      |
| 28   |            | SessionStorage工具类 |                                                                             |      |
| 29   |            | Cookie工具类         |                                                                             |      |
| 30   |            | LocalStorage工具类   |                                                                             |      |
|      |            |                      |                                                                             |      |
| 31   |            | 用户信息编辑         |                                                                             |      |
| 32   |            | 用户头像修改上传     |                                                                             |      |
| 33   |            | 登陆日志             |                                                                             |      |
| 34   |            | 在线会话管理         |                                                                             |      |
| 35   |            | 异常登陆拦截         |                                                                             |      |
| 36   |            | 踢人下线             |                                                                             |      |
| 37   |            | 最大登陆会话         |                                                                             |      |
| 38   |            | 最长登陆时间         |                                                                             |      |
| 39   |            | 单点登陆             |                                                                             |      |
| 40   |            | 单点退出             |                                                                             |      |
| 41   |            | 登陆条款编辑         |                                                                             |      |
| 42   |            | 登陆隐私政策编辑     |                                                                             |      |
| 43   |            | 登陆隐私政策编辑     |                                                                             |      |
|      |            |                      |                                                                             |      |
| 44   |            | 邮件二次登陆         |                                                                             |      |
| 45   |            | 令牌二次认证         |                                                                             |      |
| 46   |            | 登陆数据加密         |                                                                             |      |
| 47   |            | 记住我安全加密       |                                                                             |      |
| 48   |            | 钉钉/微信扫描登陆    |                                                                             |      |
|      |            |                      |                                                                             |      |


## 其它



















